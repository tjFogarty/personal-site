{% extends 'layouts/default' %}

{% set socialTags = [
  { name: 'og:title', value: entry.title ~ ' by @tj_fogarty' },
  { name: 'og:url', value: entry.url }
] %}

{% set metaTitle = entry.title %}

{% block content %}
  <article class="c-post h-entry">
    <h1 class="mt-0 p-name">{{ entry.title | typogrify }}</h1>

    <time class="c-post__date dt-published" datetime="{{ entry.postDate.date }}">{{ entry.postDate | date('d M Y') }}</time>

    <div class="e-content">
      {{ entry.postContent | typogrify }}
    </div>

    {% set cats = entry.categories.all() %}

    {% if cats %}
      <small>Categories:</small>
      <ul class="list-reset inline-flex">
        {% for category in cats %}
        <li class="mr-3">
          <a href="{{ category.url }}">
            <small>
              {{ category.title }}
            </small>
          </a>
        </li>
        {% endfor %}
      </ul>
    {% endif %}
  </article>

  <div id="disqus_thread"></div>
  <script>
  var disqus_config = function () {
    this.page.url = '{{ entry.url }}';
    this.page.identifier = '{{ entry.id }}';
  };

  (function() {
    var d = document, s = d.createElement('script');
    s.src = 'https://tj-ie.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
  </script>
  
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
{% endblock %}